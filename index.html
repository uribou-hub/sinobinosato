<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>少年サッカー30周年記念大会 - 忍の極意</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts - Noto Sans JP for Japanese text, Inter for general -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Noto+Sans+JP:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', 'Inter', sans-serif; /* 日本語優先 */
            background-color: #0a0a0a; /* 非常に暗い黒 */
            color: #f0f0f0; /* 明るいテキスト色 */
            /* 忍びの里をイメージした背景テクスチャ（竹林と隠れた屋根のシルエット） */
            background-image: url("data:image/svg+xml,%3Csvg width='200' height='200' viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='200' height='200' fill='%230a0a0a'/%3E%3Cpath d='M0 100 L50 50 L100 100 L150 50 L200 100' stroke='%231a1a1a' stroke-width='1.5' opacity='0.2'/%3E%3Cpath d='M0 150 L50 100 L100 150 L150 100 L200 150' stroke='%231a1a1a' stroke-width='1.5' opacity='0.2'/%3E%3Ccircle cx='25' cy='125' r='3' fill='%23FFD700' opacity='0.05'/%3E%3Ccircle cx='75' cy='75' r='3' fill='%23FFD700' opacity='0.05'/%3E%3Ccircle cx='125' cy='125' r='3' fill='%23FFD700' opacity='0.05'/%3E%3Ccircle cx='175' cy='75' r='3' fill='%23FFD700' opacity='0.05'/%3E%3C/svg%3E");
            background-repeat: repeat;
            background-size: 200px; /* パターンのサイズ調整 */
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        .section-title {
            font-size: 3rem; /* さらに大きく */
            font-weight: 800;
            color: #FFD700; /* 鮮やかな黄色 */
            margin-bottom: 3rem;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7); /* より強い影 */
            letter-spacing: 0.05em;
        }
        .section-title::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 120px; /* より長く */
            height: 6px; /* より太く */
            background-color: #FFD700; /* 黄色の下線 */
            border-radius: 9999px;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7); /* 黄色の光彩 */
        }
        .card {
            background-color: #1a1a1a; /* 暗いカード背景 */
            border-radius: 1.25rem; /* 適度な丸み */
            box-shadow: 0 15px 25px -5px rgba(0, 0, 0, 0.5), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
            padding: 2.5rem;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            border: 2px solid #333333; /* 濃いグレーの枠線 */
        }
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 35px -5px rgba(0, 0, 0, 0.6), 0 15px 15px -5px rgba(0, 0, 0, 0.3);
            border-color: #FFD700; /* ホバーで黄色に */
        }
        .btn-primary {
            background-color: #FFD700; /* 鮮やかな黄色 */
            color: #1a1a1a; /* 暗いテキスト */
            padding: 1rem 2.5rem;
            border-radius: 1rem; /* ボタンの丸み */
            font-weight: 800;
            letter-spacing: 0.1em;
            transition: background-color 0.3s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.3s ease-in-out;
            display: inline-block;
            text-align: center;
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4); /* 黄色の光彩 */
            text-transform: uppercase; /* 大文字 */
        }
        .btn-primary:hover {
            background-color: #e6c200; /* 少し暗い黄色 */
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.6);
        }
        .hero-section {
            background: linear-gradient(to bottom right, #1a1a1a, #0a0a0a); /* 暗いグラデーション */
            color: white;
            padding: 6rem 1rem;
            text-align: center;
            border-bottom-left-radius: 5rem;
            border-bottom-right-radius: 5rem;
            overflow: hidden;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
        }
        .hero-image-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* 忍者の手裏剣パターン */
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z' fill='%23FFD700' opacity='0.05'/%3E%3C/svg%3E");
            background-size: 150px; /* パターンのサイズ調整 */
            background-repeat: repeat;
            opacity: 0.1; /* 非常に薄く */
            z-index: 0;
        }
        .match-result-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 1rem; /* 行間のスペース */
        }
        .match-result-table th, .match-result-table td {
            padding: 1.25rem;
            text-align: center;
            background-color: #1a1a1a; /* カード背景色 */
            color: #f0f0f0;
            border: 1px solid #333333;
        }
        .match-result-table th {
            background-color: #333333; /* ヘッダー背景 */
            font-weight: 800;
            color: #FFD700; /* 黄色 */
            border-top-left-radius: 0.75rem;
            border-top-right-radius: 0.75rem;
            border-bottom: 3px solid #FFD700; /* 黄色の下線 */
        }
        .match-result-table tr:first-child th:first-child { border-top-left-radius: 1.25rem; }
        .match-result-table tr:first-child th:last-child { border-top-right-radius: 1.25rem; }
        .match-result-table tbody tr {
            transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }
        .match-result-table tbody tr:hover {
            background-color: #333333; /* ホバーで強調 */
            border-color: #FFD700; /* ホバーで黄色に */
        }
        /* Ninja Star Logo Icon */
        .ninja-star-logo-icon {
            width: 60px;
            height: 60px;
            fill: #FFD700; /* 黄色 */
            filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.7)); /* 光彩 */
        }
        /* Scroll Animation Styles */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Scroll Icon (Scroll Down Hint) */
        .scroll-icon {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            animation: bounce 1.5s infinite;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0) translateX(-50%);
            }
            40% {
                transform: translateY(-15px) translateX(-50%);
            }
            60% {
                transform: translateY(-7px) translateX(-50%);
            }
        }
        .scroll-icon svg {
            width: 40px;
            height: 40px;
            fill: #FFD700;
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5));
        }

        /* Loading Spinner */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #FFD700;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 2rem auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Ninja Animation for Sections */
        .ninja-animation-container {
            position: absolute;
            width: 70px; /* Size of the shuriken */
            height: 70px;
            opacity: 0;
            z-index: 10;
            pointer-events: none; /* Do not block clicks */
        }

        /* Specific positions for each section's shuriken animation */
        #about .ninja-animation-container { top: 10%; left: -50px; }
        #details .ninja-animation-container { top: 15%; right: -50px; }
        #schedule .ninja-animation-container { bottom: 10%; left: -50px; }
        #results .ninja-animation-container { top: 5%; right: -50px; }
        #rules .ninja-animation-container { bottom: 5%; left: -50px; }
        #map .ninja-animation-container { top: 10%; right: -50px; }
        #teams .ninja-animation-container { bottom: 15%; left: -50px; }
        #sponsors .ninja-animation-container { top: 5%; right: -50px; }
        #contact .ninja-animation-container { bottom: 10%; left: -50px; }
        #tournament-brackets .ninja-animation-container { top: 15%; right: -50px; } /* New section */


        .fade-in-section.is-visible .ninja-animation-container {
            animation: ninjaThrow 1.8s ease-out forwards; /* Play once */
        }

        @keyframes ninjaThrow {
            0% {
                opacity: 0;
                transform: translateX(0) rotate(0deg);
            }
            10% { /* Start appearing */
                opacity: 1;
            }
            50% { /* Mid-point of throw */
                transform: translateX(calc(100vw - 140px)) rotate(360deg); /* Adjust for full screen width */
                opacity: 1;
            }
            90% { /* Near end, still visible */
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateX(calc(100vw - 70px)) rotate(720deg); /* Move off-screen right */
            }
        }

        /* Reverse animation for right-side appearance */
        #details .fade-in-section.is-visible .ninja-animation-container,
        #results .fade-in-section.is-visible .ninja-animation-container,
        #map .fade-in-section.is-visible .ninja-animation-container,
        #sponsors .fade-in-section.is-visible .ninja-animation-container,
        #tournament-brackets .fade-in-section.is-visible .ninja-animation-container { /* New section */
            animation: ninjaThrowReverse 1.8s ease-out forwards;
        }

        @keyframes ninjaThrowReverse {
            0% {
                opacity: 0;
                transform: translateX(0) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            50% {
                transform: translateX(calc(-100vw + 140px)) rotate(-360deg); /* Move from right to left */
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateX(calc(-100vw + 70px)) rotate(-720deg);
            }
        }

        .ninja-shuriken {
            width: 100%;
            height: 100%;
            fill: #FFD700; /* Yellow color */
            filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.5)); /* Subtle glow */
        }

        /* Day Selector Buttons */
        .day-selector-btn {
            background-color: #333333;
            color: #f0f0f0;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            font-weight: 700;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .day-selector-btn:hover {
            background-color: #444444;
        }
        .day-selector-btn.active {
            background-color: #FFD700;
            color: #1a1a1a;
            border-color: #FFD700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.6);
        }

        /* Tournament Brackets specific styles */
        .tournament-bracket-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }
        .tournament-card {
            background-color: #1a1a1a;
            border-radius: 1.25rem;
            box-shadow: 0 10px 20px -5px rgba(0, 0, 0, 0.4);
            padding: 2rem;
            border: 2px solid #333333;
        }
        .tournament-card h3 {
            font-size: 1.75rem;
            font-weight: 700;
            color: #FFD700;
            margin-bottom: 1.5rem;
            text-align: center;
            position: relative;
            padding-bottom: 0.5rem;
        }
        .tournament-card h3::after {
            content: '';
            position: absolute;
            left: 50%;
            bottom: 0;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background-color: #FFD700;
            border-radius: 9999px;
        }
        .tournament-match-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .tournament-match-list li {
            background-color: #2a2a2a;
            padding: 1rem 1.5rem;
            border-radius: 0.75rem;
            margin-bottom: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 1.125rem;
            color: #e0e0e0;
            border: 1px solid #444444;
        }
        .tournament-match-list li:last-child {
            margin-bottom: 0;
        }
        .tournament-match-list li .round {
            font-weight: 600;
            color: #FFD700;
            width: 100px; /* Adjust width as needed */
            text-align: left;
        }
        .tournament-match-list li .teams {
            flex-grow: 1;
            text-align: center;
        }
        .tournament-match-list li .score {
            font-weight: 700;
            color: #FFD700;
            width: 80px; /* Adjust width as needed */
            text-align: right;
        }
        .tournament-match-list li .winner {
            font-weight: 700;
            color: #4CAF50; /* Green for winner */
            text-align: right;
            width: 120px; /* Adjust width as needed */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header Section -->
    <header class="bg-gray-950 shadow-2xl py-5">
        <div class="container flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center space-x-4 mb-4 md:mb-0">
                <!-- Ninja Star Logo SVG -->
                <svg class="ninja-star-logo-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z" />
                </svg>
                <h1 class="text-3xl font-extrabold text-yellow-400 drop-shadow-lg">伊賀FCうりぼう</h1>
            </div>
            <nav>
                <ul class="flex flex-wrap justify-center space-x-8 text-xl font-bold">
                    <li><a href="#about" class="text-gray-300 hover:text-yellow-400 transition duration-300">大会概要</a></li>
                    <li><a href="#details" class="text-gray-300 hover:text-yellow-400 transition duration-300">開催情報</a></li>
                    <li><a href="#schedule" class="text-gray-300 hover:text-yellow-400 transition duration-300">試合日程</a></li>
                    <li><a href="#results" class="text-gray-300 hover:text-yellow-400 transition duration-300">試合結果</a></li>
                    <li><a href="#tournament-brackets" class="text-gray-300 hover:text-yellow-400 transition duration-300">決勝トーナメント</a></li>
                    <li><a href="#rules" class="text-gray-300 hover:text-yellow-400 transition duration-300">大会ルール</a></li>
                    <li><a href="#map" class="text-gray-300 hover:text-yellow-400 transition duration-300">会場マップ</a></li>
                    <li><a href="#teams" class="text-gray-300 hover:text-yellow-400 transition duration-300">参加チーム</a></li>
                    <li><a href="#sponsors" class="text-gray-300 hover:text-yellow-400 transition duration-300">協賛</a></li>
                    <li><a href="#contact" class="text-gray-300 hover:text-yellow-400 transition duration-300">お問い合わせ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero-section relative">
        <div class="hero-image-container"></div>
        <div class="relative z-10 py-24">
            <h2 class="text-6xl md:text-7xl font-extrabold mb-8 leading-tight drop-shadow-xl text-yellow-300">
                忍びの里U12トーナメント
            </h2>
            <p class="text-2xl md:text-3xl mb-10 opacity-90 drop-shadow-lg text-gray-200">
                創設30周年記念大会
            </p>
            <a href="#details" class="btn-primary text-2xl px-10 py-5">
                大会詳細を見る
            </a>
            <div class="scroll-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 16.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z"></path></svg>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-20 bg-gray-900 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">大会概要</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div class="card p-8">
                    <p class="text-lg text-gray-300 leading-relaxed">
                        全国各地から参加いただくチームの選手・指導者との交流を図り、子どもたちの健全な心身の育成を目的とし、本大会を実施します。
                    </p>
                </div>
                <div class="card p-8">
                    <p class="text-lg text-gray-300 leading-relaxed">
                        伊賀FC うりぼうは1995年の創部から本年で30周年を迎えることになりました。<br>日頃より交流いただいている皆様に感謝し、記念すべきこの大会をさせていただきます。
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Event Details Section -->
    <section id="details" class="py-20 bg-gray-950 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">開催情報</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="card p-8 text-center">
                    <h3 class="text-xl font-bold text-yellow-400 mb-4">開催日</h3>
                    <p class="text-xl text-gray-200">2025年07月20日(日)・21日(月)</p>
                    <p class="text-gray-400">午前9時30分〜午後5時</p>
                </div>
                <div class="card p-8 text-center">
                    <h3 class="text-xl font-bold text-yellow-400 mb-4">開催場所</h3>
                    <p class="text-xl text-gray-200">伊賀市ゆめが丘多目的広場</p>
                    <p class="text-gray-400">（詳細は会場マップをご覧ください）</p>
                </div>
                <div class="card p-8 text-center">
                    <h3 class="text-xl font-bold text-yellow-400 mb-4">参加カテゴリー</h3>
                    <p class="text-xl text-gray-200">U-12 (小学6年生以下)</p>
                </div>
            </div>
            <div class="card p-8 text-center mt-8">
                <h3 class="text-xl font-bold text-yellow-400 mb-4">大会形式</h3>
                <p class="text-lg text-gray-200 leading-relaxed">
                    今大会は全国各地から11チームが参加し、ホストチーム合わせて12チームで実施します。
                    <br>1日目は**3チーム4ブロック**に分かれて予選を行い、2日目は1日目の結果を基に**1位トーナメント、2位トーナメント、3位トーナメント**と3つのトーナメントに分かれます。
                </p>
            </div>
        </div>
    </section>

    <!-- Schedule Section -->
    <section id="schedule" class="py-20 bg-gray-900 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">試合日程</h2>
            <div class="card p-8 text-center">
                <p class="text-lg text-gray-300 mb-6">
                    試合日程と組み合わせは、以下の通り。
                    <br>最新情報は当ウェブサイトにてご確認ください。
                </p>
                <!-- Day Selector for Schedule -->
                <div class="mb-6 flex justify-center space-x-4" id="day-selector-schedule">
                    <button class="day-selector-btn active" data-day="day1">1日目</button>
                    <button class="day-selector-btn" data-day="day2">2日目</button>
                </div>

                <!-- Team Filter for Schedule -->
                <div class="mb-6 text-center">
                    <label for="schedule-team-filter" class="text-yellow-400 font-bold text-lg mr-4">チームごとに絞り込む:</label>
                    <select id="schedule-team-filter" class="bg-gray-800 text-gray-200 p-2 rounded-md border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        <option value="all">全て</option>
                        <!-- Team options will be dynamically inserted here by JavaScript -->
                    </select>
                </div>

                <div class="overflow-x-auto">
                    <div id="schedule-loading-spinner" class="spinner hidden"></div>
                    <table class="match-result-table hidden" id="schedule-table">
                        <thead>
                            <tr>
                                <th>日付</th>
                                <th>時間</th>
                                <th>チームA</th>
                                <th>チームB</th>
                                <th>場所</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Schedule will be dynamically inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Match Results Section -->
    <section id="results" class="py-20 bg-gray-950 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">試合結果</h2>
            <div class="card p-8">
                <p class="text-lg text-gray-300 mb-8 text-center">
                    熱戦の記録！各試合の結果をこちらで確認できます。
                </p>
                <!-- Day Selector for Results -->
                <div class="mb-6 flex justify-center space-x-4" id="day-selector-results">
                    <button class="day-selector-btn active" data-day="day1">1日目</button>
                    <button class="day-selector-btn" data-day="day2">2日目</button>
                </div>

                <!-- Team Filter for Results -->
                <div class="mb-6 text-center">
                    <label for="results-team-filter" class="text-yellow-400 font-bold text-lg mr-4">チームごとに絞り込む:</label>
                    <select id="results-team-filter" class="bg-gray-800 text-gray-200 p-2 rounded-md border border-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        <option value="all">全て</option>
                        </select>
                </div>

                <div class="overflow-x-auto">
                    <div id="results-loading-spinner" class="spinner hidden"></div>
                    <table class="match-result-table hidden" id="match-results-table">
                        <thead>
                            <tr>
                                <th>日付</th>
                                <th>時間</th>
                                <th>チームA</th>
                                <th>スコア</th>
                                <th>チームB</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Match results will be dynamically inserted here by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Tournament Brackets Section -->
    <section id="tournament-brackets" class="py-20 bg-gray-900 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">決勝トーナメント表</h2>
            <div class="card p-8 text-center">
                <p class="text-lg text-gray-300 mb-8">
                    2日目の決勝トーナメントの組み合わせと結果です。
                </p>
                <div id="tournament-loading-spinner" class="spinner hidden"></div>
                <div class="tournament-bracket-container" id="tournament-brackets-content">
                    <!-- Tournament brackets will be dynamically inserted here -->
                    <div class="tournament-card hidden" id="tournament-1st">
                        <h3>1位トーナメント</h3>
                        <ul class="tournament-match-list">
                            <!-- Matches for 1st tournament -->
                        </ul>
                    </div>
                    <div class="tournament-card hidden" id="tournament-2nd">
                        <h3>2位トーナメント</h3>
                        <ul class="tournament-match-list">
                            <!-- Matches for 2nd tournament -->
                        </ul>
                    </div>
                    <div class="tournament-card hidden" id="tournament-3rd">
                        <h3>3位トーナメント</h3>
                        <ul class="tournament-match-list">
                            <!-- Matches for 3rd tournament -->
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Tournament Rules Section -->
    <section id="rules" class="py-20 bg-gray-900 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">大会ルール</h2>
            <div class="card p-8">
                <p class="text-lg text-gray-300 mb-6">
                    本大会は、フェアプレー精神に基づき、以下のルールで実施されます。
                </p>
                <ul class="list-disc list-inside text-lg text-gray-300 space-y-3">
                    <li>各カテゴリーの試合時間は15分-5分-15分とします。</li>
                    <li>競技規定はJFA8人制サッカー競技規則に準じて開催します。</li>
                    <li>各チーム帯同審判員1名にて実施します。<br>※審判の育成も兼ねて地元高校生にて行う場合は判定に対する審判への抗議は一切受け付けません。<br>懲戒罰発生時はその場で本部にて協議をを行い決定することとする。</li>
                    <li>トーナメントで同点の場合はPK戦(3人制)で勝敗を決する。</li>
                    <li>その他のルールについては大会要項または本部にご確認ください。</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Venue Map Section -->
    <section id="map" class="py-20 bg-gray-950 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">会場マップ</h2>
            <div class="card p-8 text-center">
                <p class="text-lg text-gray-300 mb-6">
                    大会会場である伊賀市ゆめが丘多目的広場のマップです。
                    <br>住所: 三重県伊賀市ゆめが丘六丁目6番地
                    <br>目印: ゆめが丘小学校近く
                    
                </p>
                <!-- Google Maps Embed for Yumegaoka Multipurpose Square, Iga, Mie -->
                <div class="relative w-full overflow-hidden rounded-xl shadow-lg border-2 border-gray-700" style="padding-top: 56.25%;">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6557.925719001559!2d136.1653771815451!3d34.731330548475405!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6001542955507959%3A0xaeff996e01b85d17!2z44KG44KB44GM5LiY5aSa55uu55qE5bqD5aC0!5e0!3m2!1sja!2sjp!4v1752082193884!5m2!1sja!2sjp"
                        width="100%"
                        height="100%"
                        style="border:0;"
                        allowfullscreen=""
                        loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"
                        class="absolute top-0 left-0 w-full h-full"
                    ></iframe>
                </div>
                <p class="text-gray-400 mt-4">
                    ※上記はゆめが丘多目的広場（伊賀市ゆめが丘六丁目6番地）の地図です。<br>
                    正確な位置については、必要に応じてGoogleマップで詳細をご確認ください。
                </p>
            </div>
        </div>
    </section>

    <!-- Teams Section -->
    <section id="teams" class="py-20 bg-gray-900 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">参加チーム</h2>
            <div class="card p-8">
                <p class="text-lg text-gray-300 mb-6 text-center">
                    本大会に参加するチームは以下の通りです。
                </p>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-8 mt-10" id="participating-teams-list">
                    <!-- Participating teams will be dynamically generated or hardcoded here -->
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="第一SSC">第一SSC</span>
                        <span class="text-sm text-gray-400">(東京都)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="市川FC">市川FC</span>
                        <span class="text-sm text-gray-400">(千葉県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="加茂FC">加茂FC</span>
                        <span class="text-sm text-gray-400">(京都府)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="野洲JFC">野洲JFC</span>
                        <span class="text-sm text-gray-400">(滋賀県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="プライマリーSC">プライマリーSC</span>
                        <span class="text-sm text-gray-400">(滋賀県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="刈谷SS">刈谷SS</span>
                        <span class="text-sm text-gray-400">(愛知県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="アウトラインFC">アウトラインFC</span>
                        <span class="text-sm text-gray-400">(岐阜県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="FC.K-GP">FC.K-GP</span>
                        <span class="text-sm text-gray-400">(岐阜県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="アフェラルセ四日市">アフェラルセ四日市</span>
                        <span class="text-sm text-gray-400">(三重県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="グランビーノ鈴峰FC">グランビーノ鈴峰FC</span>
                        <span class="text-sm text-gray-400">(三重県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="西が丘SS">西が丘SS</span>
                        <span class="text-sm text-gray-400">(三重県)</span>
                    </div>
                    <div class="bg-gray-800 p-6 rounded-lg flex flex-col items-center justify-center h-28 shadow-md border-2 border-gray-700">
                        <span class="text-lg font-bold text-yellow-400" data-team-name="伊賀FCうりぼう">伊賀FC うりぼう</span>
                        <span class="text-sm text-gray-400">(ホストチーム)</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Sponsors Section -->
    <section id="sponsors" class="py-20 bg-gray-950 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">協賛・協力企業</h2>
            <div class="card p-8 text-center">
                <p class="text-lg text-gray-300 mb-6">
                    「忍びの里U12トーナメント」の開催にあたりまして、多くの企業の皆様より多大なるご支援を賜りました。<br>心より感謝申し上げます。
                </p>

                <h3 class="text-2xl font-bold text-yellow-400 mb-4">協賛企業 (順不同)</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-6 mt-4">
                    <!-- 協賛企業 15社 -->
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">摂津商事株式会社</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">伊山運送株式会社</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">大同建設工業株式会社</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">有限会社 奉天商会</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">株式会社ワールド</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">株式会社 創和技建</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">谷本農産</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">医療法人 森川病院</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">株式会社 マツヤマスポーツ</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">株式会社カナオカグラビア</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">graft</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">有限会社ビルドカンパニー/とんちんかん</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">うりぼうファミリー<br>伊藤みき/藤井博之/北澤義孝</span>
                    </div>
                </div>

                <h3 class="text-2xl font-bold text-yellow-400 mb-4 mt-10">協力企業 (順不同)</h3>
                <div class="grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-2 gap-6 mt-4 max-w-lg mx-auto">
                    <!-- 協力企業 2社 -->
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">井筒屋書店 あかもん店</span>
                    </div>
                    <div class="bg-gray-800 p-4 rounded-lg flex items-center justify-center h-24 shadow-md border-2 border-gray-700">
                        <span class="text-base font-bold text-yellow-400">cafe okina</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-gray-900 fade-in-section relative overflow-hidden">
        <div class="ninja-animation-container">
            <svg class="ninja-shuriken" viewBox="0 0 100 100" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M50 0L61.8 38.2L100 50L61.8 61.8L50 100L38.2 61.8L0 50L38.2 38.2L50 0Z"/>
            </svg>
        </div>
        <div class="container">
            <h2 class="section-title">お問い合わせ</h2>
            <div class="card p-8 text-center">
                <p class="text-lg text-gray-300 mb-6">
                    大会に関するご質問やお問合せは各チーム指導者ならびに関係者を通じて下記までご連絡ください。
                </p>
                <p class="text-2xl font-bold text-yellow-400 mb-3">
                    代表　北澤 義孝
                </p>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer class="bg-gray-950 text-white py-10 mt-16 rounded-t-3xl">
        <div class="container text-center">
            <p class="text-lg mb-6 text-gray-400">© 2025 少年サッカー30周年記念大会実行委員会. All Rights Reserved.</p>
            <div class="flex justify-center space-x-8">
                <a href="#" class="text-gray-500 hover:text-yellow-400 transition duration-300 text-lg">プライバシーポリシー</a>
                <a href="#" class="text-gray-500 hover:text-yellow-400 transition duration-300 text-lg">サイトマップ</a>
                <!-- Social Media Icons Placeholder (Ninja-themed) -->
                <a href="https://www.instagram.com/ifc.uribou.ueno95?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-yellow-400 transition duration-300" aria-label="Instagram">
                    <!-- Instagram icon SVG -->
                    <svg class="w-7 h-7 inline-block" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12 0C8.74 0 8.333.014 7.053.072 5.773.132 4.905.333 4.14.63c-.78.3-1.43.74-2.003 1.316-.573.573-.973 1.223-1.27 2.003-.297.76-.498 1.628-.558 2.908C.014 8.333 0 8.74 0 12s.014 3.667.072 4.947c.06 1.28.261 2.148.558 2.908.3.78.74 1.43 1.316 2.003.573.573 1.223.973 2.003 1.27.76.297 1.628.498 2.908.558C8.333 23.986 8.74 24 12 24s3.667-.014 4.947-.072c1.28-.06 2.148-.261 2.908-.558.78-.3 1.43-.74 2.003-1.316.573-.573.973-1.223 1.27-2.003.297-.76.498-1.628.558-2.908C23.986 15.667 24 15.26 24 12s-.014-3.667-.072-4.947c-.06-1.28-.261-2.148-.558-2.908-.3-.78-.74-1.43-1.316-2.003-.573-.573-1.223-.973-2.003-1.27-.76-.297-1.628-.498-2.908-.558C15.667.014 15.26 0 12 0zm0 2.16c3.2 0 3.585.016 4.85.072 1.17.055 1.8.245 2.227.41.52.2.95.438 1.38.868.43.43.668.86.868 1.38.165.427.36 1.057.415 2.227.056 1.265.072 1.65.072 4.85s-.016 3.585-.072 4.85c-.055 1.17-.245 1.8-.41 2.227-.2.52-.438.95-.868 1.38-.43.43-.86.668-1.38.868-.427.165-1.057.36-2.227.415-1.265.056-1.65.072-4.85.072s-3.585-.016-4.85-.072c-1.17-.055-1.8-.245-2.227-.41-.52-.2-.95-.438-1.38-.868-.43-.43-.668-.86-.868-1.38-.165-.427-.36-1.057-.415-2.227C2.16 15.667 2.145 15.26 2.145 12s.016-3.585.072-4.85c.055-1.17.245-1.8.41-2.227.2-.52.438-.95.868-1.38.43-.43.86-.668 1.38-.868.427-.165 1.057-.36 2.227-.415C8.333 2.16 8.74 2.145 12 2.145zm0 3.65c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5 6.5-2.91 6.5-6.5-2.91-6.5-6.5-6.5zm0 10.65c-2.29 0-4.15-1.86-4.15-4.15s1.86-4.15 4.15-4.15 4.15 1.86 4.15 4.15-1.86 4.15-4.15 4.15zm5.338-11.458c0-.552-.448-1-1-1s-1 .448-1 1 .448 1 1 1 1-.448 1-1z" clip-rule="evenodd"/>
                    </svg>
                </a>
                <a href="#" class="text-gray-500 hover:text-yellow-400 transition duration-300">
                    <!-- Example: Simple GitHub icon -->
                    <svg class="w-7 h-7 inline-block" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                        <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.163 6.839 9.489.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.604-3.369-1.34-3.369-1.34-.455-1.157-1.11-1.465-1.11-1.465-.908-.62.069-.608.069-.608 1.004.07 1.532 1.03 1.532 1.03.89 1.529 2.341 1.088 2.91.831.091-.645.35-1.088.636-1.339-2.22-.253-4.555-1.11-4.555-4.949 0-1.095.39-1.99 1.029-2.693-.103-.253-.447-1.272.098-2.65 0 0 .84-.27 2.75 1.025A9.564 9.564 0 0112 6.844c.85.004 1.701.114 2.502.336 1.909-1.295 2.747-1.025 2.747-1.025.546 1.378.202 2.397.099 2.65.64.703 1.029 1.598 1.029 2.693 0 3.84-2.339 4.69-4.566 4.943.359.309.678.92.678 1.855 0 1.339-.012 2.419-.012 2.747 0 .268.18.579.688.482A10 10 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" />
                    </svg>
                </a>
            </div>
        </div>
    </footer>

    <script>
        // JavaScript for interactive elements and animations

        document.addEventListener('DOMContentLoaded', () => {
            // --- Configuration for Google Apps Script URLs ---
            // ★★★ ここにGoogle Apps ScriptでデプロイしたWebアプリのURLを貼り付けてください ★★★
            // 「試合日程」スプレッドシートからデプロイしたWebアプリのURL
            const SCHEDULE_API_URL = 'https://script.google.com/macros/s/AKfycbxyu3KDsuRPuEuHndvg4JLY950BLey2lfLCDtbee-pyzZahhUvYIL1WtvhPjGosLRI/exec';
            // 「試合結果」スプレッドシートからデプロイしたWebアプリのURL
            const RESULTS_API_URL = 'https://script.google.com/macros/s/AKfycbzGYYpIjXAXN04Ll4r1MJuAopFnfU75zBVcjVKrfgWXnNLZVy5s8wMfgWSNrQHEjgdddA/exec';
            // 「決勝トーナメント表」スプレッドシートからデプロイしたWebアプリのURL
            const TOURNAMENT_API_URL = 'https://script.google.com/macros/s/AKfycbzXtFaCBQMoXURc_5oUJOYU2GUVUusXJfa23PRtBeguvyWRNWWiI6Tr1Btqnin8Zvk/exec'; 
            // ★★★ 上記のURLを忘れずに更新してください ★★★


            // --- Common Elements and Functions ---
            const fadeInSections = document.querySelectorAll('.fade-in-section');

            // Function to handle day selection (for both schedule and results)
            const setupDaySelector = (selectorId, renderFunction, allData, teamFilterElementId = null) => {
                const daySelector = document.getElementById(selectorId);
                if (!daySelector) return;

                const buttons = daySelector.querySelectorAll('.day-selector-btn');
                buttons.forEach(button => {
                    button.addEventListener('click', () => {
                        buttons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                        const selectedDay = button.dataset.day;
                        const filteredData = allData.filter(item => item.day === selectedDay);
                        
                        // If a team filter exists for this section, update its options and apply initial filter
                        if (teamFilterElementId) {
                            const teamFilter = document.getElementById(teamFilterElementId);
                            populateTeamFilter(teamFilter, filteredData);
                            // Apply current filter value or 'all' if filter was reset
                            const currentFilterValue = teamFilter.value;
                            const furtherFilteredData = filteredData.filter(match => {
                                return currentFilterValue === 'all' || match.teamA === currentFilterValue || match.teamB === currentFilterValue;
                            });
                            renderFunction(furtherFilteredData);
                        } else {
                            renderFunction(filteredData);
                        }
                    });
                });
            };

            // Function to populate team filter dropdown
            const populateTeamFilter = (filterElement, dataForFilter) => {
                if (!filterElement) return;
                const teamNames = new Set();
                dataForFilter.forEach(match => {
                    teamNames.add(match.teamA);
                    teamNames.add(match.teamB);
                });

                filterElement.innerHTML = '<option value="all">全て</option>';
                Array.from(teamNames).sort().forEach(teamName => {
                    const option = document.createElement('option');
                    option.value = teamName;
                    option.textContent = teamName;
                    filterElement.appendChild(option);
                });
            };

            // --- Schedule Section Logic ---
            const scheduleTable = document.getElementById('schedule-table');
            const scheduleTableBody = scheduleTable ? scheduleTable.querySelector('tbody') : null;
            const scheduleLoadingSpinner = document.getElementById('schedule-loading-spinner');
            const scheduleTeamFilter = document.getElementById('schedule-team-filter'); // New filter for schedule
            let allScheduleData = []; // To store all fetched schedule data
            let currentFilteredScheduleByDay = []; // Store schedule filtered by day

            const renderSchedule = (dataToRender) => {
                if (!scheduleTableBody) return;
                scheduleTableBody.innerHTML = ''; // Clear existing rows
                if (dataToRender.length === 0) {
                    scheduleTableBody.innerHTML = '<tr><td colspan="5" class="text-gray-400 py-4">該当する試合日程はありません。</td></tr>'; // colspanを調整
                    return;
                }
                dataToRender.forEach(match => {
                    const row = document.createElement('tr');
                    row.dataset.teamA = match.teamA; // Add data attributes for filtering
                    row.dataset.teamB = match.teamB;
                    row.innerHTML = `
                        <td>${match.date}</td>
                        <td>${match.time}</td>
                        <td>${match.teamA}</td>
                        <td>${match.teamB}</td>
                        <td>${match.location}</td>
                    `;
                    scheduleTableBody.appendChild(row);
                });
                currentFilteredScheduleByDay = dataToRender; // Update for team filter
            };

            const fetchScheduleData = async () => {
                if (scheduleLoadingSpinner) scheduleLoadingSpinner.classList.remove('hidden');
                if (scheduleTable) scheduleTable.classList.add('hidden');

                try {
                    const response = await fetch(SCHEDULE_API_URL);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const data = await response.json();
                    allScheduleData = data; // Store all fetched data
                    
                    // Initial render for Day 1 schedule
                    const initialScheduleData = allScheduleData.filter(item => item.day === 'day1');
                    renderSchedule(initialScheduleData);
                    populateTeamFilter(scheduleTeamFilter, initialScheduleData); // Populate filter for initial day

                    // Setup day selector after data is loaded, passing the team filter ID
                    setupDaySelector('day-selector-schedule', renderSchedule, allScheduleData, 'schedule-team-filter');

                } catch (error) {
                    console.error('試合日程の取得中にエラーが発生しました:', error);
                    if (scheduleTableBody) {
                        scheduleTableBody.innerHTML = '<tr><td colspan="5" class="text-red-500 py-4">試合日程の読み込みに失敗しました。</td></tr>';
                    }
                } finally {
                    if (scheduleLoadingSpinner) scheduleLoadingSpinner.classList.add('hidden');
                    if (scheduleTable) scheduleTable.classList.remove('hidden');
                }
            };

            // Event listener for schedule team filter change
            if (scheduleTeamFilter) {
                scheduleTeamFilter.addEventListener('change', (event) => {
                    const selectedTeam = event.target.value;
                    const filteredMatches = currentFilteredScheduleByDay.filter(match => {
                        return selectedTeam === 'all' || match.teamA === selectedTeam || match.teamB === selectedTeam;
                    });
                    renderSchedule(filteredMatches); // Render filtered subset of current day's data
                });
            }

            // --- Results Section Logic ---
            const resultsTeamFilter = document.getElementById('results-team-filter'); // Renamed for clarity
            const matchResultsTable = document.getElementById('match-results-table');
            const resultsTableBody = matchResultsTable ? matchResultsTable.querySelector('tbody') : null;
            const resultsLoadingSpinner = document.getElementById('results-loading-spinner');
            let allResultsData = []; // To store all fetched results data
            let currentFilteredResultsByDay = []; // Store results filtered by day

            const renderResults = (dataToRender) => {
                if (!resultsTableBody) return;
                resultsTableBody.innerHTML = ''; // Clear existing rows
                if (dataToRender.length === 0) {
                    resultsTableBody.innerHTML = '<tr><td colspan="5" class="text-gray-400 py-4">該当する試合結果はありません。</td></tr>';
                    return;
                }
                dataToRender.forEach(match => {
                    const row = document.createElement('tr');
                    row.dataset.teamA = match.teamA;
                    row.dataset.teamB = match.teamB;
                    row.innerHTML = `
                        <td>${match.date}</td>
                        <td>${match.time}</td>
                        <td>${match.teamA}</td>
                        <td>${match.score || ''}</td> <!-- スコアがnullまたはundefinedの場合、空文字列を表示 -->
                        <td>${match.teamB}</td>
                    `;
                    resultsTableBody.appendChild(row);
                });
                currentFilteredResultsByDay = dataToRender; // Update for team filter
            };

            const fetchResultsData = async () => {
                if (resultsLoadingSpinner) resultsLoadingSpinner.classList.remove('hidden');
                if (matchResultsTable) matchResultsTable.classList.add('hidden');

                try {
                    const response = await fetch(RESULTS_API_URL);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const data = await response.json();
                    allResultsData = data; // Store all fetched data

                    // Initial render for Day 1 results
                    const initialResultsData = allResultsData.filter(item => item.day === 'day1');
                    renderResults(initialResultsData);
                    populateTeamFilter(resultsTeamFilter, initialResultsData); // Populate filter for initial day

                    // Setup day selector after data is loaded, passing the team filter ID
                    setupDaySelector('day-selector-results', renderResults, allResultsData, 'results-team-filter');

                } catch (error) {
                    console.error('試合結果の取得中にエラーが発生しました:', error);
                    if (resultsTableBody) {
                        resultsTableBody.innerHTML = '<tr><td colspan="5" class="text-red-500 py-4">試合結果の読み込みに失敗しました。</td></tr>';
                    }
                } finally {
                    if (resultsLoadingSpinner) resultsLoadingSpinner.classList.add('hidden');
                    if (matchResultsTable) matchResultsTable.classList.remove('hidden');
                }
            };

            // Event listener for results team filter change
            if (resultsTeamFilter) {
                resultsTeamFilter.addEventListener('change', (event) => {
                    const selectedTeam = event.target.value;
                    const filteredMatches = currentFilteredResultsByDay.filter(match => {
                        return selectedTeam === 'all' || match.teamA === selectedTeam || match.teamB === selectedTeam;
                    });
                    renderResults(filteredMatches); // Render filtered subset of current day's data
                });
            }

            // --- Tournament Brackets Section Logic ---
            const tournamentLoadingSpinner = document.getElementById('tournament-loading-spinner');
            const tournamentBracketsContent = document.getElementById('tournament-brackets-content');

            const renderTournamentBracket = (elementId, title, data) => {
                const tournamentCard = document.getElementById(elementId);
                const matchList = tournamentCard ? tournamentCard.querySelector('.tournament-match-list') : null;
                
                if (!tournamentCard || !matchList) return;

                matchList.innerHTML = ''; // Clear existing matches
                if (data.length === 0) {
                    matchList.innerHTML = `<li class="text-gray-400 justify-center">データがありません。</li>`;
                    tournamentCard.classList.remove('hidden');
                    return;
                }

                data.forEach(match => {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `
                        <span class="round">${match.round}</span>
                        <span class="teams">${match.teamA} vs ${match.teamB}</span>
                        <span class="score">${match.score || ''}</span>
                        <span class="winner">${match.winner || ''}</span>
                    `;
                    matchList.appendChild(listItem);
                });
                tournamentCard.classList.remove('hidden'); // Show the card once data is rendered
            };

            const fetchTournamentData = async () => {
                if (tournamentLoadingSpinner) tournamentLoadingSpinner.classList.remove('hidden');
                if (tournamentBracketsContent) tournamentBracketsContent.querySelectorAll('.tournament-card').forEach(card => card.classList.add('hidden'));

                try {
                    const response = await fetch(TOURNAMENT_API_URL);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const allTournamentData = await response.json(); // This will be an object with keys like '1位トーナメント'

                    renderTournamentBracket('tournament-1st', '1位トーナメント', allTournamentData['1位トーナメント'] || []);
                    renderTournamentBracket('tournament-2nd', '2位トーナメント', allTournamentData['2位トーナメント'] || []);
                    renderTournamentBracket('tournament-3rd', '3位トーナメント', allTournamentData['3位トーナメント'] || []);

                } catch (error) {
                    console.error('決勝トーナメント表の取得中にエラーが発生しました:', error);
                    if (tournamentBracketsContent) {
                        tournamentBracketsContent.innerHTML = '<div class="text-red-500 py-4 text-center">決勝トーナメント表の読み込みに失敗しました。</div>';
                    }
                } finally {
                    if (tournamentLoadingSpinner) tournamentLoadingSpinner.classList.add('hidden');
                }
            };


            // --- Initialize All Sections ---
            fetchScheduleData(); // Fetch and display initial schedule
            fetchResultsData();  // Fetch and display initial results
            fetchTournamentData(); // Fetch and display tournament brackets


            // --- Scroll Animations (Fade-in-section) ---
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);
            fadeInSections.forEach(section => {
                observer.observe(section);
            });

            // --- Smooth Scrolling for Navigation ---
            document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            });
        });
    </script>
</body>
</html>
